<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detroit Axle RRPD Receiving Dashboard</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Top Bar -->
  <header class="topbar">
    <img src="detroit-axle-logo.png" alt="Detroit Axle Logo" class="logo">
    <h1>RRPD Receiving Dashboard</h1>
    <nav>
      <button class="nav-btn" data-panel="home">Home</button>
      <button class="nav-btn" data-panel="scanners">Scanners</button>
      <button class="nav-btn" data-panel="carriers">Carriers</button>
      <button class="nav-btn" data-panel="racks">Racks</button>
      <button class="nav-btn" data-panel="classifications">Classifications</button>
      <button class="nav-btn" data-panel="miss">Miss Inspections</button>
      <button class="nav-btn" data-panel="training">Training & Quiz</button>
      <button class="nav-btn" data-panel="manifest">Manifest Upload</button>
      <button class="nav-btn" data-panel="settings">Settings</button>
    </nav>
    <!-- Global Date Selector -->
    <div class="date-select">
      <label for="globalDate">Select Date:</label>
      <input type="date" id="globalDate">
    </div>
  </header>

  <!-- Panels -->
  <main>
    <!-- Home Panel -->
    <section id="home" class="panel active">
      <h2>Home Dashboard</h2>
      <div class="summary-cards">
        <div class="card"><h3>Scans Today</h3><p id="homeScans">0</p></div>
        <div class="card"><h3>Carriers Today</h3><p id="homeCarriers">0</p></div>
        <div class="card"><h3>Miss Inspections</h3><p id="homeMiss">0</p></div>
      </div>
      <div class="chart-container">
        <canvas id="weeklyClassChart"></canvas>
      </div>
      <div class="chart-container">
        <canvas id="monthlyClassChart"></canvas>
      </div>
    </section>

    <!-- Scanners Panel -->
    <section id="scanners" class="panel">
      <h2>Scanners</h2>
      <div class="chart-row">
        <canvas id="scannerDonut"></canvas>
        <canvas id="scannerBar"></canvas>
      </div>
      <p class="last-updated" id="scannerUpdated"></p>
    </section>

    <!-- Carriers Panel -->
    <section id="carriers" class="panel">
      <h2>Carriers</h2>
      <div class="chart-row">
        <canvas id="carrierDonut"></canvas>
        <canvas id="carrierBar"></canvas>
      </div>
      <p class="last-updated" id="carrierUpdated"></p>
    </section>

    <!-- Racks Panel -->
    <section id="racks" class="panel">
      <h2>Racks</h2>
      <form id="rackForm">
        <label>Racks: <input type="number" id="racksInput" value="0"></label>
        <label>Core Racks: <input type="number" id="coreRacksInput" value="0"></label>
        <label>Electric Racks: <input type="number" id="electricInput" value="0"></label>
        <label>Core Electric: <input type="number" id="coreElectricInput" value="0"></label>
        <label>Axles Good: <input type="number" id="axlesGoodInput" value="0"></label>
        <label>Axles Used: <input type="number" id="axlesUsedInput" value="0"></label>
        <label>Driveshafts Good: <input type="number" id="driveGoodInput" value="0"></label>
        <label>Driveshafts Used: <input type="number" id="driveUsedInput" value="0"></label>
        <label>Gearboxes Good: <input type="number" id="gearGoodInput" value="0"></label>
        <label>Gearboxes Used: <input type="number" id="gearUsedInput" value="0"></label>
        <button type="submit">Save</button>
      </form>
      <button id="resetRacks">Reset Racks Logs</button>
      <p id="lastResetNote"></p>
      <div class="chart-row">
        <canvas id="rackDonut1"></canvas>
        <canvas id="rackDonut2"></canvas>
        <canvas id="axleDonut"></canvas>
        <canvas id="driveDonut"></canvas>
        <canvas id="gearDonut"></canvas>
      </div>
      <div class="chart-container">
        <canvas id="weeklyRacksChart"></canvas>
      </div>
      <p class="last-updated" id="rackUpdated"></p>
    </section>

    <!-- Classifications Panel -->
    <section id="classifications" class="panel">
      <h2>Classifications</h2>
      <div class="chart-row">
        <canvas id="classDonut"></canvas>
        <canvas id="classBar"></canvas>
      </div>
      <p class="last-updated" id="classUpdated"></p>
    </section>

    <!-- Miss Inspections -->
    <section id="miss" class="panel">
      <h2>Miss Inspections</h2>
      <form id="missForm">
        <label>Tracking #: <input type="text" id="missTracking" required></label>
        <label>Reason: <input type="text" id="missReason" required></label>
        <button type="submit">Add</button>
      </form>
      <table>
        <thead>
          <tr><th>Tracking #</th><th>Scanner</th><th>Reason</th><th>Time</th><th>Photos</th></tr>
        </thead>
        <tbody id="missLog"></tbody>
      </table>
    </section>

    <!-- Training & Quiz -->
    <section id="training" class="panel">
      <h2>Training Manual (English / Español)</h2>
      <div class="manual">
        <h3>Step 1: Verify Package / Paso 1: Verificar Paquete</h3>
        <p>Check tracking number... / Revise el número de seguimiento...</p>
        <h3>Step 2: Classify / Paso 2: Clasificar</h3>
        <p>Good, Used, Core, Damage... / Bueno, Usado, Núcleo, Daño...</p>
      </div>
      <h2>Training Quiz / Examen de Entrenamiento</h2>
      <div id="quiz"></div>
      <button id="submitQuiz">Submit / Enviar</button>
      <p id="quizResult"></p>
    </section>

    <!-- Manifest Upload -->
    <section id="manifest" class="panel">
      <h2>FedEx Manifest Upload (Admin Only)</h2>
      <input type="file" id="manifestFile" accept=".pdf">
      <button id="processManifest">Process</button>
      <div class="chart-container">
        <canvas id="manifestDonut"></canvas>
      </div>
      <table>
        <thead><tr><th>Missing Tracking #</th></tr></thead>
        <tbody id="manifestMissing"></tbody>
      </table>
    </section>

    <!-- Settings -->
    <section id="settings" class="panel">
      <h2>Settings</h2>
      <form id="goalForm">
        <label>Scanner Daily Goal: <input type="number" id="scannerGoalInput" value="400"></label>
        <button type="submit">Save Goal</button>
      </form>
      <button id="printReport">Print Daily Report</button>
    </section>
  </main>

  <!-- Modal for Miss Inspection Photos -->
  <div id="photoModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div id="photoContainer"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
